<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
	<script async src="/src/gas.js"></script>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>McbeEringi calpis_calc</title>
	<meta name="description" content="カルピス原液計算">
	<link rel="icon" type="image/svg+xml" href="../img/icon.svg">
	<link rel="apple-touch-icon" href="../img/icon.png">
	<meta name="theme-color" content="#214"/>

	<link rel="stylesheet" href="../src/style.css">
</head>
<body>
	<style>
		input{width:4em;}.r{text-align:right;}
		input[type="number"]::-webkit-outer-spin-button,input[type="number"]::-webkit-inner-spin-button{display:none;}
		input[type="number"]{-moz-appearance:textfield;}
	</style>
	<h1>🥛Calpis Calc🥛</h1>
	<p>カルピス原液を適量入れた時に、コップの底が見えなくなる角度を計算します<br>
		美味しく作る目安程度に使ってください</p>
	<hr>
	<img src="calpis.jpg" alt="calpis図解" style="width:50%;max-width:200px;"><br>
	角θを求めます
	<hr>
	<h2>input</h2>
	<form oninput="calpis(h_.value,d_.value,m_.value);">
		液面 : 直径 =
		<input type="number" class="zab" id="h_" value="1" class="r" min="0"> : <input type="number" class="zab" id="d_" value="1" min="0"><br>
		<label><input type="number" class="zab" id="m_" value="5" class="r" min="1">倍希釈</label>
	</form>
	<hr>
	<h2>result</h2>
	<p id="out" style="transform-origin:left;"></p><br>
	<script>
		function calpis(h,d,m) {
			var diffuse = (Math.atan2(h*2/m,d)*180/Math.acos(-1)).toFixed(2);
			if(diffuse){
				out.style.transform = `rotate(${-diffuse}deg)`;
				diffuse += "°";
			}else{
				out.style.transform = "rotate(0deg)";
				diffuse = "??";
			}
			out.textContent = diffuse;
		}
		calpis(h_.value,d_.value,m_.value);
	</script>
</body>
</html>
